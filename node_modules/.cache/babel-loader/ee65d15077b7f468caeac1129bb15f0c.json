{"ast":null,"code":"import t, { enableES5 as e } from \"immer\";\nimport { createContext as n, useState as r, useRef as o, useLayoutEffect as i, createElement as c, PureComponent as a } from \"react\";\n\nfunction s() {\n  return (s = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = arguments[e];\n\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction u(t, e) {\n  t.prototype = Object.create(e.prototype), t.prototype.constructor = t, t.__proto__ = e;\n}\n\nvar l = {\n  Actions: {},\n  AsyncState: {},\n  Context: {\n    __global: {}\n  },\n  Middlewares: {},\n  Setter: {\n    classSetter: void 0,\n    functionSetter: {}\n  },\n  State: {},\n  devTools: void 0,\n  subscriptions: {},\n  uid: 0,\n  withDevTools: !1\n},\n    f = {\n  logger: {\n    enable: !1\n  },\n  devtools: {\n    enable: !1\n  },\n  tryCatch: {\n    enable: !0\n  }\n},\n    m = function (t, e) {\n  try {\n    var n = t.next,\n        r = f.tryCatch.enable ? Promise.resolve(n(e).catch(function (t) {\n      return console.log(t);\n    })).then(function () {}) : Promise.resolve(n(e)).then(function () {});\n    return Promise.resolve(r && r.then ? r.then(function () {}) : void 0);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    S = function (t, e) {\n  try {\n    var n = t.modelName,\n        r = t.next,\n        o = t.Global;\n    return Promise.resolve((0, t.action)(t.params, s({\n      actions: (0, t.consumerActions)(o.Actions[n], {\n        modelName: n\n      }),\n      state: o.State[n]\n    }, o.Context.__global || {}, o.Context[n] || {}))).then(function (n) {\n      return t.newState = n || null, Promise.resolve(r(e)).then(function () {});\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    d = function (t, e) {\n  try {\n    var n = t.modelName,\n        r = t.newState,\n        o = t.next,\n        i = t.Global;\n    i.Setter.functionSetter[n] && Object.keys(i.Setter.functionSetter[n]).map(function (t) {\n      var e = i.Setter.functionSetter[n][t];\n      e && e.selector && !e.selectorRef && (e.selectorRef = e.selector(i.State[n]));\n    });\n\n    var c = function () {\n      if (r) return A(n, r), Promise.resolve(o(e)).then(function () {});\n    }();\n\n    return Promise.resolve(c && c.then ? c.then(function () {}) : void 0);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    v = function (t, e) {\n  try {\n    var n = t.modelName,\n        r = t.next,\n        o = t.Global,\n        i = t.__hash,\n        c = o.Setter.functionSetter[n];\n    return \"function\" === t.type && i && c && c[i] && c[i].setState && c[i].setState(o.State[n]), Promise.resolve(r(e)).then(function () {});\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    h = function (t, e) {\n  try {\n    var n = t.next,\n        r = t.Global.subscriptions[t.modelName + \"_\" + t.actionName];\n    return r && r.forEach(function (e) {\n      e(t);\n    }), Promise.resolve(n(e)).then(function () {});\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    _ = function (t, e) {\n  try {\n    var n = t.Global,\n        r = !0 === f.logger.enable || \"function\" == typeof f.logger.enable && f.logger.enable(t) ? (console.group(\"%c \" + t.modelName + \" State Change %c \" + new Date().toLocaleTimeString(), \"color: gray; font-weight: lighter;\", \"color: black; font-weight: bold;\"), console.log(\"%c Previous\", \"color: #9E9E9E; font-weight: bold\", n.State[t.modelName]), console.log(\"%c Action\", \"color: #03A9F4; font-weight: bold\", t.actionName, \"payload: \" + t.params), Promise.resolve(t.next(e)).then(function () {\n      console.log(\"%c Next\", \"color: #4CAF50; font-weight: bold\", n.State[t.modelName]), console.groupEnd();\n    })) : Promise.resolve(t.next(e)).then(function () {});\n    return Promise.resolve(r && r.then ? r.then(function () {}) : void 0);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    p = function (t, e) {\n  try {\n    var n = t.Global;\n    return Promise.resolve(t.next(e)).then(function () {\n      n.withDevTools && f.devtools.enable && n.devTools.send(t.modelName + \"_\" + t.actionName, n.State);\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    b = function (t, e) {\n  try {\n    var n = t.modelName,\n        r = t.next,\n        o = t.Global;\n    return o.Setter.classSetter && o.Setter.classSetter(o.State), o.Setter.functionSetter[n] && Object.keys(o.Setter.functionSetter[n]).map(function (t) {\n      var e = o.Setter.functionSetter[n][t];\n      if (e) if (e.selector) {\n        var r = e.selector(o.State[n]);\n        T(r, e.selectorRef) || (e.selectorRef = r, e.setState(o.State[n]));\n      } else e.setState(o.State[n]);\n    }), Promise.resolve(r(e)).then(function () {});\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    g = [m, _, p, S, d, v, b, h],\n    y = {\n  communicator: b,\n  consoleDebugger: _,\n  devToolsListener: p,\n  getNewState: S,\n  getNewStateWithCache: function (t) {\n    return void 0 === t && (t = 5e3), function (e, n) {\n      try {\n        var r = e.Global,\n            o = e.modelName,\n            i = e.next,\n            c = e.actionName;\n        return Promise.resolve(Promise.race([(0, e.action)(e.params, {\n          actions: (0, e.consumerActions)(r.Actions[o], {\n            modelName: o\n          }),\n          state: r.State[o]\n        }), R(t, C(o, c))])).then(function (t) {\n          return e.newState = t || null, Promise.resolve(i(n)).then(function () {});\n        });\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    };\n  },\n  setNewState: d,\n  stateUpdater: v,\n  subscription: h,\n  tryCatch: m,\n  config: f\n},\n    P = function (t, e) {\n  try {\n    e.next = function (t) {\n      return t.length > 0 && t[0](e, t.slice(1));\n    };\n\n    var n = function () {\n      if (t.length > 0) return Promise.resolve(t[0](e, t.slice(1))).then(function () {});\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {}) : void 0);\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    w = n({}),\n    N = w.Consumer;\n\nif (!console.group) {\n  var O = [],\n      E = \"-\".repeat(80);\n\n  console.group = function (t) {\n    O.push(t), console.log(\"%c \\nBEGIN GROUP: %c\", E, t), console.groupEnd = function () {\n      console.log(\"END GROUP: %c\\n%c\", O.pop(), E);\n    };\n  };\n}\n\nvar j = function (t, e) {\n  var n = {};\n  return Object.keys(t).forEach(function (r) {\n    n[r] = function (t, e) {\n      return function (n, r) {\n        try {\n          return Promise.resolve(P(g, {\n            Global: l,\n            action: t,\n            actionName: t.name,\n            consumerActions: j,\n            middlewareConfig: r,\n            modelName: e.modelName,\n            newState: null,\n            params: n,\n            type: \"outer\"\n          })).then(function () {});\n        } catch (t) {\n          return Promise.reject(t);\n        }\n      };\n    }(t[r], e);\n  }), n;\n},\n    A = function (e, n) {\n  if (\"function\" == typeof n) {\n    var r = l.State[e];\n    r = t(r, n), l.State = t(l.State, function (t) {\n      t[e] = r;\n    });\n  } else l.State = t(l.State, function (t) {\n    t[e] = s({}, t[e], n);\n  });\n\n  return l.State;\n},\n    R = function (t, e) {\n  return new Promise(function (n) {\n    return setTimeout(function () {\n      console.log(t), n(e);\n    }, t);\n  });\n},\n    x = function (e, n) {\n  try {\n    var r = {\n      __FROM_SERVER__: !0\n    };\n    return Promise.resolve(Promise.all(Object.keys(l.State).map(function (o) {\n      try {\n        var i = function () {\n          if (!e || !e.modelName || o === e.modelName || -1 !== e.modelName.indexOf(o)) {\n            var i = function (e) {\n              n && n.isServer ? r[o] = e : l.State = t(l.State, function (t) {\n                t[o] = s({}, t[o], e);\n              });\n            },\n                c = l.AsyncState[o];\n\n            return c ? Promise.resolve(c(e)).then(i) : i({});\n          }\n        }();\n\n        return Promise.resolve(i && i.then ? i.then(function () {}) : void 0);\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    }))).then(function () {\n      return n && n.isServer ? r : l.State;\n    });\n  } catch (t) {\n    return Promise.reject(t);\n  }\n},\n    C = function (t, e) {\n  var n = localStorage.getItem(\"__REACT_MODELX__\" + t + \"_\" + e);\n  return n ? JSON.parse(n) : null;\n},\n    T = function (t, e) {\n  if (t === e) return !0;\n  if (\"object\" != typeof t || null === t || \"object\" != typeof e || null === e) return !1;\n  var n = Object.keys(t),\n      r = Object.keys(e);\n  if (n.length !== r.length) return !1;\n\n  for (var o = 0; o < n.length; o++) if (!Object.prototype.hasOwnProperty.call(e, n[o]) || t[n[o]] !== e[n[o]]) return !1;\n\n  return !0;\n};\n\nfunction G(e, n, r) {\n  if (void 0 !== e.state) {\n    l.uid += 1;\n    var o = \"__\" + l.uid;\n    l.State = t(l.State, function (t) {\n      t[o] = e.state;\n    }), e.middlewares && (l.Middlewares[o] = e.middlewares), l.Actions[o] = e.actions, l.AsyncState[o] = e.asyncState, n && (l.Context[o] = n);\n    var i = F(o);\n    return {\n      __id: o,\n      actions: i,\n      getState: function () {\n        return k(o);\n      },\n      subscribe: function (t, e) {\n        return M(o, t, e);\n      },\n      unsubscribe: function (t) {\n        return D(o, t);\n      },\n      useStore: function (t) {\n        return I(o, t);\n      }\n    };\n  }\n\n  if (e.actions) {\n    console.error(\"invalid model(s) schema: \", e);\n\n    var c = function (t) {\n      return function () {\n        return t;\n      };\n    };\n\n    return {\n      __ERROR__: !0,\n      actions: c({}),\n      getActions: c({}),\n      getInitialState: c({}),\n      getState: c({}),\n      subscribe: c(),\n      unsubscribe: c(),\n      useStore: c([{}, {}])\n    };\n  }\n\n  n && !n.__FROM_SERVER__ && (l.State = t(l.State, function (t) {\n    Object.assign(t, n || {});\n  })), r && (l.Context.__global = r), Object.keys(e).forEach(function (r) {\n    var o = e[r];\n    if (o.__ERROR__) return console.error(r + \" model's schema is invalid\"), l.State = t(l.State, function (t) {\n      t[r] = {};\n    }), void (l.Actions[r] = {});\n    !function (t) {\n      return void 0 !== t.useStore;\n    }(o) ? (n && n.__FROM_SERVER__ ? l.State = t(l.State, function (t) {\n      t[r] = s({}, o.state, n[r]);\n    }) : l.State[r] || (l.State = t(l.State, function (t) {\n      t[r] = o.state;\n    })), o.middlewares && (l.Middlewares[r] = o.middlewares), l.Actions[r] = o.actions, l.AsyncState[r] = o.asyncState) : (l.State[r] && n || (l.State = t(l.State, function (t) {\n      t[r] = t[o.__id];\n    })), n && n.__FROM_SERVER__ && (l.State = t(l.State, function (t) {\n      t[r] = s({}, t[o.__id], n[r]);\n    })), l.Actions[r] = l.Actions[o.__id], l.AsyncState[r] = l.AsyncState[o.__id], l.Middlewares[r] = l.Middlewares[o.__id], l.Context[r] = l.Context[o.__id]);\n  });\n  var a = Object.keys(e).reduce(function (t, e) {\n    var n;\n    return s({}, t, ((n = {})[e] = F(e), n));\n  }, {});\n  return l.withDevTools = \"undefined\" != typeof window && window.__REDUX_DEVTOOLS_EXTENSION__, l.withDevTools && y.config.devtools.enable && (l.devTools = window.__REDUX_DEVTOOLS_EXTENSION__, l.devTools.connect()), {\n    actions: a,\n    getActions: F,\n    getInitialState: x,\n    getState: k,\n    subscribe: M,\n    unsubscribe: D,\n    useStore: I\n  };\n}\n\ne();\n\nvar D = function (t, e) {\n  M(t, e, void 0);\n},\n    M = function (t, e, n) {\n  Array.isArray(e) ? e.forEach(function (e) {\n    l.subscriptions[t + \"_\" + e] || (l.subscriptions[t + \"_\" + e] = []), n ? l.subscriptions[t + \"_\" + e].push(n) : l.subscriptions[t + \"_\" + e] = [];\n  }) : (l.subscriptions[t + \"_\" + e] || (l.subscriptions[t + \"_\" + e] = []), n ? l.subscriptions[t + \"_\" + e].push(n) : l.subscriptions[t + \"_\" + e] = []);\n},\n    k = function (t) {\n  return l.State[t];\n},\n    F = function (t, e) {\n  void 0 === e && (e = {\n    type: \"outer\"\n  });\n  var n = {};\n  return Object.keys(l.Actions[t]).forEach(function (r) {\n    return n[r] = function (n, o) {\n      try {\n        var i = s({\n          action: l.Actions[t][r],\n          actionName: r,\n          consumerActions: j,\n          middlewareConfig: o,\n          modelName: t,\n          newState: null,\n          params: n\n        }, e, {\n          Global: l\n        }),\n            c = l.Middlewares[t] ? Promise.resolve(P(l.Middlewares[t], i)).then(function () {}) : Promise.resolve(P(g, i)).then(function () {});\n        return Promise.resolve(c && c.then ? c.then(function () {}) : void 0);\n      } catch (t) {\n        return Promise.reject(t);\n      }\n    };\n  }), n;\n},\n    I = function (t, e) {\n  var n = r({})[1],\n      c = o(\"\");\n  i(function () {\n    l.uid += 1;\n    var r = \"\" + l.uid;\n    return c.current = r, l.Setter.functionSetter[t] || (l.Setter.functionSetter[t] = {}), l.Setter.functionSetter[t][r] = {\n      setState: n,\n      selector: e\n    }, function () {\n      delete l.Setter.functionSetter[t][r];\n    };\n  }, []);\n  var a = F(t, {\n    __hash: c.current,\n    type: \"function\"\n  });\n  return [e ? e(k(t)) : k(t), a];\n},\n    V = function (t) {\n  function e() {\n    var e;\n    return (e = t.apply(this, arguments) || this).state = l.State, e;\n  }\n\n  return u(e, t), e.prototype.render = function () {\n    var t = this.props.children;\n    return l.Setter.classSetter = this.setState.bind(this), c(w.Provider, {\n      value: s({}, this.state)\n    }, t);\n  }, e;\n}(a),\n    L = function (t, e, n) {\n  return function (r) {\n    return function (o) {\n      function i() {\n        return o.apply(this, arguments) || this;\n      }\n\n      return u(i, o), i.prototype.render = function () {\n        var o = this,\n            i = this.props,\n            a = i.state,\n            u = void 0 === a ? {} : a,\n            f = i.actions,\n            m = void 0 === f ? {} : f;\n        return c(N, null, function (i) {\n          var a = i[\"\" + t],\n              f = l.Actions[t];\n          return c(r, Object.assign({}, o.props, {\n            state: s({}, u, e ? e(a) : a),\n            actions: s({}, m, n ? n(j(f, {\n              modelName: t\n            })) : j(f, {\n              modelName: t\n            }))\n          }));\n        });\n      }, i;\n    }(a);\n  };\n};\n\nexport { N as Consumer, G as Model, V as Provider, g as actionMiddlewares, L as connect, x as getInitialState, k as getState, y as middlewares };","map":{"version":3,"sources":["/Users/faribadadko/Documents/funwear-front-end/funwear-fashion/node_modules/react-model/dist/react-model.esm.js"],"names":["t","enableES5","e","createContext","n","useState","r","useRef","o","useLayoutEffect","i","createElement","c","PureComponent","a","s","Object","assign","arguments","length","prototype","hasOwnProperty","call","apply","u","create","constructor","__proto__","l","Actions","AsyncState","Context","__global","Middlewares","Setter","classSetter","functionSetter","State","devTools","subscriptions","uid","withDevTools","f","logger","enable","devtools","tryCatch","m","next","Promise","resolve","catch","console","log","then","reject","S","modelName","Global","action","params","actions","consumerActions","state","newState","d","keys","map","selector","selectorRef","A","v","__hash","type","setState","h","actionName","forEach","_","group","Date","toLocaleTimeString","groupEnd","p","send","b","T","g","y","communicator","consoleDebugger","devToolsListener","getNewState","getNewStateWithCache","race","R","C","setNewState","stateUpdater","subscription","config","P","slice","w","N","Consumer","O","E","repeat","push","pop","j","name","middlewareConfig","setTimeout","x","__FROM_SERVER__","all","indexOf","isServer","localStorage","getItem","JSON","parse","G","middlewares","asyncState","F","__id","getState","k","subscribe","M","unsubscribe","D","useStore","I","error","__ERROR__","getActions","getInitialState","reduce","window","__REDUX_DEVTOOLS_EXTENSION__","connect","Array","isArray","current","V","render","props","children","bind","Provider","value","L","Model","actionMiddlewares"],"mappings":"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","sourcesContent":["import t,{enableES5 as e}from\"immer\";import{createContext as n,useState as r,useRef as o,useLayoutEffect as i,createElement as c,PureComponent as a}from\"react\";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var l={Actions:{},AsyncState:{},Context:{__global:{}},Middlewares:{},Setter:{classSetter:void 0,functionSetter:{}},State:{},devTools:void 0,subscriptions:{},uid:0,withDevTools:!1},f={logger:{enable:!1},devtools:{enable:!1},tryCatch:{enable:!0}},m=function(t,e){try{var n=t.next,r=f.tryCatch.enable?Promise.resolve(n(e).catch(function(t){return console.log(t)})).then(function(){}):Promise.resolve(n(e)).then(function(){});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},S=function(t,e){try{var n=t.modelName,r=t.next,o=t.Global;return Promise.resolve((0,t.action)(t.params,s({actions:(0,t.consumerActions)(o.Actions[n],{modelName:n}),state:o.State[n]},o.Context.__global||{},o.Context[n]||{}))).then(function(n){return t.newState=n||null,Promise.resolve(r(e)).then(function(){})})}catch(t){return Promise.reject(t)}},d=function(t,e){try{var n=t.modelName,r=t.newState,o=t.next,i=t.Global;i.Setter.functionSetter[n]&&Object.keys(i.Setter.functionSetter[n]).map(function(t){var e=i.Setter.functionSetter[n][t];e&&e.selector&&!e.selectorRef&&(e.selectorRef=e.selector(i.State[n]))});var c=function(){if(r)return A(n,r),Promise.resolve(o(e)).then(function(){})}();return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},v=function(t,e){try{var n=t.modelName,r=t.next,o=t.Global,i=t.__hash,c=o.Setter.functionSetter[n];return\"function\"===t.type&&i&&c&&c[i]&&c[i].setState&&c[i].setState(o.State[n]),Promise.resolve(r(e)).then(function(){})}catch(t){return Promise.reject(t)}},h=function(t,e){try{var n=t.next,r=t.Global.subscriptions[t.modelName+\"_\"+t.actionName];return r&&r.forEach(function(e){e(t)}),Promise.resolve(n(e)).then(function(){})}catch(t){return Promise.reject(t)}},_=function(t,e){try{var n=t.Global,r=!0===f.logger.enable||\"function\"==typeof f.logger.enable&&f.logger.enable(t)?(console.group(\"%c \"+t.modelName+\" State Change %c \"+(new Date).toLocaleTimeString(),\"color: gray; font-weight: lighter;\",\"color: black; font-weight: bold;\"),console.log(\"%c Previous\",\"color: #9E9E9E; font-weight: bold\",n.State[t.modelName]),console.log(\"%c Action\",\"color: #03A9F4; font-weight: bold\",t.actionName,\"payload: \"+t.params),Promise.resolve(t.next(e)).then(function(){console.log(\"%c Next\",\"color: #4CAF50; font-weight: bold\",n.State[t.modelName]),console.groupEnd()})):Promise.resolve(t.next(e)).then(function(){});return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},p=function(t,e){try{var n=t.Global;return Promise.resolve(t.next(e)).then(function(){n.withDevTools&&f.devtools.enable&&n.devTools.send(t.modelName+\"_\"+t.actionName,n.State)})}catch(t){return Promise.reject(t)}},b=function(t,e){try{var n=t.modelName,r=t.next,o=t.Global;return o.Setter.classSetter&&o.Setter.classSetter(o.State),o.Setter.functionSetter[n]&&Object.keys(o.Setter.functionSetter[n]).map(function(t){var e=o.Setter.functionSetter[n][t];if(e)if(e.selector){var r=e.selector(o.State[n]);T(r,e.selectorRef)||(e.selectorRef=r,e.setState(o.State[n]))}else e.setState(o.State[n])}),Promise.resolve(r(e)).then(function(){})}catch(t){return Promise.reject(t)}},g=[m,_,p,S,d,v,b,h],y={communicator:b,consoleDebugger:_,devToolsListener:p,getNewState:S,getNewStateWithCache:function(t){return void 0===t&&(t=5e3),function(e,n){try{var r=e.Global,o=e.modelName,i=e.next,c=e.actionName;return Promise.resolve(Promise.race([(0,e.action)(e.params,{actions:(0,e.consumerActions)(r.Actions[o],{modelName:o}),state:r.State[o]}),R(t,C(o,c))])).then(function(t){return e.newState=t||null,Promise.resolve(i(n)).then(function(){})})}catch(t){return Promise.reject(t)}}},setNewState:d,stateUpdater:v,subscription:h,tryCatch:m,config:f},P=function(t,e){try{e.next=function(t){return t.length>0&&t[0](e,t.slice(1))};var n=function(){if(t.length>0)return Promise.resolve(t[0](e,t.slice(1))).then(function(){})}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},w=n({}),N=w.Consumer;if(!console.group){var O=[],E=\"-\".repeat(80);console.group=function(t){O.push(t),console.log(\"%c \\nBEGIN GROUP: %c\",E,t),console.groupEnd=function(){console.log(\"END GROUP: %c\\n%c\",O.pop(),E)}}}var j=function(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=function(t,e){return function(n,r){try{return Promise.resolve(P(g,{Global:l,action:t,actionName:t.name,consumerActions:j,middlewareConfig:r,modelName:e.modelName,newState:null,params:n,type:\"outer\"})).then(function(){})}catch(t){return Promise.reject(t)}}}(t[r],e)}),n},A=function(e,n){if(\"function\"==typeof n){var r=l.State[e];r=t(r,n),l.State=t(l.State,function(t){t[e]=r})}else l.State=t(l.State,function(t){t[e]=s({},t[e],n)});return l.State},R=function(t,e){return new Promise(function(n){return setTimeout(function(){console.log(t),n(e)},t)})},x=function(e,n){try{var r={__FROM_SERVER__:!0};return Promise.resolve(Promise.all(Object.keys(l.State).map(function(o){try{var i=function(){if(!e||!e.modelName||o===e.modelName||-1!==e.modelName.indexOf(o)){var i=function(e){n&&n.isServer?r[o]=e:l.State=t(l.State,function(t){t[o]=s({},t[o],e)})},c=l.AsyncState[o];return c?Promise.resolve(c(e)).then(i):i({})}}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(t){return Promise.reject(t)}}))).then(function(){return n&&n.isServer?r:l.State})}catch(t){return Promise.reject(t)}},C=function(t,e){var n=localStorage.getItem(\"__REACT_MODELX__\"+t+\"_\"+e);return n?JSON.parse(n):null},T=function(t,e){if(t===e)return!0;if(\"object\"!=typeof t||null===t||\"object\"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||t[n[o]]!==e[n[o]])return!1;return!0};function G(e,n,r){if(void 0!==e.state){l.uid+=1;var o=\"__\"+l.uid;l.State=t(l.State,function(t){t[o]=e.state}),e.middlewares&&(l.Middlewares[o]=e.middlewares),l.Actions[o]=e.actions,l.AsyncState[o]=e.asyncState,n&&(l.Context[o]=n);var i=F(o);return{__id:o,actions:i,getState:function(){return k(o)},subscribe:function(t,e){return M(o,t,e)},unsubscribe:function(t){return D(o,t)},useStore:function(t){return I(o,t)}}}if(e.actions){console.error(\"invalid model(s) schema: \",e);var c=function(t){return function(){return t}};return{__ERROR__:!0,actions:c({}),getActions:c({}),getInitialState:c({}),getState:c({}),subscribe:c(),unsubscribe:c(),useStore:c([{},{}])}}n&&!n.__FROM_SERVER__&&(l.State=t(l.State,function(t){Object.assign(t,n||{})})),r&&(l.Context.__global=r),Object.keys(e).forEach(function(r){var o=e[r];if(o.__ERROR__)return console.error(r+\" model's schema is invalid\"),l.State=t(l.State,function(t){t[r]={}}),void(l.Actions[r]={});!function(t){return void 0!==t.useStore}(o)?(n&&n.__FROM_SERVER__?l.State=t(l.State,function(t){t[r]=s({},o.state,n[r])}):l.State[r]||(l.State=t(l.State,function(t){t[r]=o.state})),o.middlewares&&(l.Middlewares[r]=o.middlewares),l.Actions[r]=o.actions,l.AsyncState[r]=o.asyncState):(l.State[r]&&n||(l.State=t(l.State,function(t){t[r]=t[o.__id]})),n&&n.__FROM_SERVER__&&(l.State=t(l.State,function(t){t[r]=s({},t[o.__id],n[r])})),l.Actions[r]=l.Actions[o.__id],l.AsyncState[r]=l.AsyncState[o.__id],l.Middlewares[r]=l.Middlewares[o.__id],l.Context[r]=l.Context[o.__id])});var a=Object.keys(e).reduce(function(t,e){var n;return s({},t,((n={})[e]=F(e),n))},{});return l.withDevTools=\"undefined\"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,l.withDevTools&&y.config.devtools.enable&&(l.devTools=window.__REDUX_DEVTOOLS_EXTENSION__,l.devTools.connect()),{actions:a,getActions:F,getInitialState:x,getState:k,subscribe:M,unsubscribe:D,useStore:I}}e();var D=function(t,e){M(t,e,void 0)},M=function(t,e,n){Array.isArray(e)?e.forEach(function(e){l.subscriptions[t+\"_\"+e]||(l.subscriptions[t+\"_\"+e]=[]),n?l.subscriptions[t+\"_\"+e].push(n):l.subscriptions[t+\"_\"+e]=[]}):(l.subscriptions[t+\"_\"+e]||(l.subscriptions[t+\"_\"+e]=[]),n?l.subscriptions[t+\"_\"+e].push(n):l.subscriptions[t+\"_\"+e]=[])},k=function(t){return l.State[t]},F=function(t,e){void 0===e&&(e={type:\"outer\"});var n={};return Object.keys(l.Actions[t]).forEach(function(r){return n[r]=function(n,o){try{var i=s({action:l.Actions[t][r],actionName:r,consumerActions:j,middlewareConfig:o,modelName:t,newState:null,params:n},e,{Global:l}),c=l.Middlewares[t]?Promise.resolve(P(l.Middlewares[t],i)).then(function(){}):Promise.resolve(P(g,i)).then(function(){});return Promise.resolve(c&&c.then?c.then(function(){}):void 0)}catch(t){return Promise.reject(t)}}}),n},I=function(t,e){var n=r({})[1],c=o(\"\");i(function(){l.uid+=1;var r=\"\"+l.uid;return c.current=r,l.Setter.functionSetter[t]||(l.Setter.functionSetter[t]={}),l.Setter.functionSetter[t][r]={setState:n,selector:e},function(){delete l.Setter.functionSetter[t][r]}},[]);var a=F(t,{__hash:c.current,type:\"function\"});return[e?e(k(t)):k(t),a]},V=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).state=l.State,e}return u(e,t),e.prototype.render=function(){var t=this.props.children;return l.Setter.classSetter=this.setState.bind(this),c(w.Provider,{value:s({},this.state)},t)},e}(a),L=function(t,e,n){return function(r){return function(o){function i(){return o.apply(this,arguments)||this}return u(i,o),i.prototype.render=function(){var o=this,i=this.props,a=i.state,u=void 0===a?{}:a,f=i.actions,m=void 0===f?{}:f;return c(N,null,function(i){var a=i[\"\"+t],f=l.Actions[t];return c(r,Object.assign({},o.props,{state:s({},u,e?e(a):a),actions:s({},m,n?n(j(f,{modelName:t})):j(f,{modelName:t}))}))})},i}(a)}};export{N as Consumer,G as Model,V as Provider,g as actionMiddlewares,L as connect,x as getInitialState,k as getState,y as middlewares};\n"]},"metadata":{},"sourceType":"module"}